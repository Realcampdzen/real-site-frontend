# üîí –°—Ç–∞—Ç—É—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ AI Studio

## ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**

### üö® –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
- [x] **–û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–∞–∫–µ—Ç—ã**: OpenAI SDK –æ–±–Ω–æ–≤–ª—ë–Ω –¥–æ v4.103.0
- [x] **CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω**: –û–≥—Ä–∞–Ω–∏—á–µ–Ω —Å–ø–∏—Å–æ–∫ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã—Ö –¥–æ–º–µ–Ω–æ–≤
- [x] **Rate Limiting**: –î–æ–±–∞–≤–ª–µ–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (30/–º–∏–Ω API, 20/–º–∏–Ω —á–∞—Ç)
- [x] **Helmet**: –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ CSP
- [x] **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö**: Joi —Å—Ö–µ–º—ã –¥–ª—è –≤—Å–µ—Ö endpoints

### ‚ö†Ô∏è –°—Ä–µ–¥–Ω–∏–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏
- [x] **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: Winston –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—à–∏–±–æ–∫
- [x] **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**: –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –æ—à–∏–±–æ–∫
- [x] **API –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –ù–æ–≤—ã–π OpenAI SDK v4
- [x] **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏**: JSON —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞

## üõ°Ô∏è **–î–û–ë–ê–í–õ–ï–ù–´ –°–†–ï–î–°–¢–í–ê –ó–ê–©–ò–¢–´**

### üîê –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- CORS —Å whitelist –¥–æ–º–µ–Ω–æ–≤
- Rate limiting –ø–æ IP –∞–¥—Ä–µ—Å–∞–º
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
- Helmet –¥–ª—è HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- Content Security Policy (CSP)
- Structured logging —Å Winston
- Graceful error handling

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üìã **–ò–°–ü–û–õ–¨–ó–£–ï–ú–´–ï –ü–ê–ö–ï–¢–´ –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò**

```json
{
  "helmet": "^7.x.x",           // HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
  "express-rate-limit": "^7.x.x", // Rate limiting
  "joi": "^17.x.x",             // –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  "winston": "^3.x.x",          // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
  "express-winston": "^4.x.x",  // Express middleware –¥–ª—è –ª–æ–≥–æ–≤
  "cors": "^2.x.x"              // CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
}
```

## üöÄ **–ù–ê–°–¢–†–û–ô–ö–ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò**

### Rate Limiting
```javascript
// API endpoints: 30 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
// Chat endpoints: 20 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–π –ª–∏–º–∏—Ç–æ–≤
```

### CORS Policy
```javascript
// –†–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã:
// - http://localhost:3001
// - http://127.0.0.1:3001  
// - https://yourdomain.com (–Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–Ω–µ)
```

### Content Security Policy
```javascript
// –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞:
// - –ó–∞–≥—Ä—É–∑–∫—É —Å–∫—Ä–∏–ø—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ CDN)
// - –ó–∞–≥—Ä—É–∑–∫—É —Å—Ç–∏–ª–µ–π (—Ç–æ–ª—å–∫–æ HTTPS)
// - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ API (—Ç–æ–ª—å–∫–æ OpenAI)
```

## üìù **–õ–û–ì–ò–†–û–í–ê–ù–ò–ï**

### –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è:
- ‚úÖ –í—Å–µ HTTP –∑–∞–ø—Ä–æ—Å—ã —Å IP –∞–¥—Ä–µ—Å–∞–º–∏
- ‚úÖ –û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö  
- ‚úÖ –ü—Ä–µ–≤—ã—à–µ–Ω–∏—è rate limit
- ‚úÖ API –æ—à–∏–±–∫–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è
- ‚úÖ 404 –∏ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

### –§–∞–π–ª—ã –ª–æ–≥–æ–≤:
- `logs/combined.log` - –í—Å–µ –ª–æ–≥–∏
- `logs/error.log` - –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
- Console - –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üéØ **–°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò**

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞:
1. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å HTTPS** —Å Let's Encrypt
2. **–°–æ–∑–¥–∞—Ç—å .env.production** —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** —Å –∞–ª–µ—Ä—Ç–∞–º–∏
4. **Backup –ª–æ–≥–æ–≤** –Ω–∞ –≤–Ω–µ—à–Ω–∏–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø–∞–∫–µ—Ç—ã (`npm audit`)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –Ω–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤
- –î–æ–±–∞–≤–∏—Ç—å 2FA –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üîç **–†–ï–ó–£–õ–¨–¢–ê–¢–´ –ê–£–î–ò–¢–ê**

```bash
# npm audit
‚úÖ 0 —É—è–∑–≤–∏–º–æ—Å—Ç–µ–π –Ω–∞–π–¥–µ–Ω–æ
‚úÖ –í—Å–µ –ø–∞–∫–µ—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã
‚úÖ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —É—è–∑–≤–∏–º–æ—Å—Ç–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã
```

## üìû **–ü–û–î–î–ï–†–ñ–ö–ê**

–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ `/logs`
2. –û–±–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã: `npm audit fix`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä —Å –Ω–æ–≤—ã–º–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

---

**–°—Ç–∞—Ç—É—Å**: üü¢ **–ó–ê–©–ò–©–Å–ù** | –ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: $(date) 